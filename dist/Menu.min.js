!function(a){"use strict";var b=a.module("net.enzey.flyout",["net.enzey.services"]),c="NZ_EVENT_REPOSITION";b.provider("nzFlyoutConfig",function(){var b=function(a,b){a.css("position","absolute"),b.append(a)},c={};this.setPositionFn=function(b,d){a.isFunction(b)&&(d?a.isString(d)&&(c[d]=b):(c[null]=b,c[void 0]=b))},this.$get=function(){return{getPositionFn:function(a){return c[a]}}},this.setPositionFn(b)}),b.directive("nzFlyout",["$compile","$parse","$document","nzService","nzFlyoutConfig",function(b,d,e,f,g){return{priority:9999,compile:function(h){var i,j=(this.name,!1);if(!h.attr("isLifted")){var i=h[0].outerHTML;h.empty()}return{pre:function(k,l,m){if(!l.attr("isLifted")){var n=h.parent(),o=d(m.positionFn)(k);a.isString(o)?o=g.getPositionFn(o):a.isFunction(o)||(o=g.getPositionFn());var p=n;if(a.isDefined(m.positionToOther))for(var q=n;q.length;){if(a.isDefined(q.attr("data-nz-flyout-position-against"))||a.isDefined(q.attr("nz-flyout-position-against"))){p=q;break}q=q.parent()}var r=n;a.isDefined(m.appendToBody)&&(r=a.element(e[0].body)),n.on("click",function(a){if(!j){j=!0;var d=k.$new(),e=b(i)(d);o(e,p,r,a),f.registerClickAwayAction(function(){e.remove(),d.$destroy(),j=!1},n,e),d.$apply(),d.$on(c,function(){o(e,p,r,a)})}}),i=a.element(i).attr("isLifted",!0)[0].outerHTML,l.remove()}},post:function(){}}}}}])}(angular);