!function(a){"use strict";var b=a.module("net.enzey.flyout",["net.enzey.services"]),c="NZ_EVENT_REPOSITION";b.provider("nzFlyoutConfig",function(){var b=function(a,b){a.css("position","absolute"),b.append(a)},c={};this.setPositionFn=function(b,d){a.isFunction(b)&&(d?a.isString(d)&&(c[d]=b):(c[null]=b,c[void 0]=b))},this.$get=function(){return{getPositionFn:function(a){return c[a]}}},this.setPositionFn(b)}),b.directive("nzFlyout",["$compile","$parse","$document","nzService","nzFlyoutConfig",function(b,d,e,f,g){return{priority:9999,terminal:!0,compile:function(h){var i=(this.name,this.priority),j=!1,k=h[0].outerHTML;return{pre:function(l,m,n){var o=h.parent(),p=d(n.positionFn)(l);a.isString(p)?p=g.getPositionFn(p):a.isFunction(p)||(p=g.getPositionFn());var q=o;if(a.isDefined(n.positionToOther))for(var r=o;r.length;){if(a.isDefined(r.attr("data-nz-flyout-position-against"))||a.isDefined(r.attr("nz-flyout-position-against"))){q=r;break}r=r.parent()}var s=o;a.isDefined(n.appendToBody)&&(s=a.element(e[0].body)),o.on("click",function(a){if(!j){j=!0;var d=l.$new(),e=b(k,null,i)(d);p(e,q,s,a),f.registerClickAwayAction(function(){e.remove(),d.$destroy(),j=!1},o,e),d.$apply(),d.$on(c,function(){p(e,q,s,a)})}}),m.remove()},post:function(){}}}}}])}(angular);